@model PaginationModel

@if (Model.TotalPages > 1)
{
    <div class="pagination-wrapper">
        <nav aria-label="Phân trang">
            <ul class="pagination mb-0">
                <li class="page-item @(Model.CurrentPage <= 1 ? "disabled" : "")">
                    <a class="page-link" href="@(Model.CurrentPage > 1
                           ? Model.PageUrl(Model.CurrentPage - 1)
                           : "#")">
                        <i class="bi bi-chevron-left"></i> Trước
                    </a>
                </li>
                @{
                    int start = Math.Max(1, Model.CurrentPage - 2);
                    int end = Math.Min(Model.TotalPages, Model.CurrentPage + 2);
                    if (Model.CurrentPage <= 3)
                    {
                        start = 1;
                        end = Math.Min(5, Model.TotalPages);
                    }
                    else if (Model.CurrentPage >= Model.TotalPages - 2)
                    {
                        end = Model.TotalPages;
                        start = Math.Max(1, Model.TotalPages - 4);
                    }
                }
                @if (start > 1)
                {
                    <li class="page-item">
                        <a class="page-link" href="@Model.PageUrl(1)">1</a>
                    </li>
                    <li class="page-item disabled"><span class="page-link">...</span></li>
                }
                @for (int i = start; i <= end; i++)
                {
                    <li class="page-item @(i == Model.CurrentPage ? "active" : "")">
                        <a class="page-link" href="@Model.PageUrl(i)">@i</a>
                    </li>
                }
                @if (end < Model.TotalPages)
                {
                    <li class="page-item disabled"><span class="page-link">...</span></li>
                    <li class="page-item">
                        <a class="page-link" href="@Model.PageUrl(Model.TotalPages)">
                            @Model.TotalPages
                        </a>
                    </li>
                }
                <li class="page-item @(Model.CurrentPage >= Model.TotalPages ? "disabled" : "")">
                    <a class="page-link" href="@(Model.CurrentPage < Model.TotalPages
                           ? Model.PageUrl(Model.CurrentPage + 1)
                           : "#")">
                        Sau <i class="bi bi-chevron-right"></i>
                    </a>
                </li>
            </ul>
        </nav>
    </div>
}